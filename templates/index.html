{% extends 'base.html' %}
{% block title %}Art-Station [INDEX]{% endblock %}
{% block head %}
    <link rel="stylesheet" href="../static/css/index.css">
    <style>
        
        @media (max-width: 1600px) {
            .hidden-sixteen {
                display:none;
            }
        }

        @media (max-width: 1000px) {
            .hidden-thousand {
                display:none;
            }

            .nav-span {
                align-self: center;
            }
        }
    </style>
{% endblock %}

{% block body %}
<main>
    <section class="main-section">
        <aside class="left-nav">
            <span class="search-span nav-span">
                <i id="search-button" class="fa-solid fa-magnifying-glass"></i>
                <input class="hidden-thousand" id="search-bar" type="text" placeholder="Search">
            </span>
            <span class="nav-span">
                <i class="fa-solid fa-house"></i>
                <a class="hidden-thousand" href="/">Home</a>
            </span>
            <span class="nav-span">
                <i class="fa-solid fa-camera"></i>
                <a class="hidden-thousand" href="/new_post">Post</a>
            </span>
            <span class="nav-span">
                <i class="fa-solid fa-message"></i>
                <a class="hidden-thousand" href="/">Messages</a>
            </span>
            {% if username %}
            <span class="nav-span">
                <i class="fa-solid fa-user"></i>
                <a class="hidden-thousand" href="/user/{{ username }}">Profile</a>
            </span>
            <span class="nav-span">
                <i class="fa-solid fa-gear"></i>
                <a class="hidden-thousand" href="/user/{{ username }}/edit_user/general">Settings</a>
            </span>
            {% else %}
            <span class="nav-span">
                <i class="fa-solid fa-user"></i>
                <a class="hidden-thousand" href="/login">Login</a>
            </span>
            {% endif %}
        </aside>
        <article class="posts">
            <div class="image-board">
                <div class="image-column">
                    {% for image in images %}
                    <div class="post-container">
                        <div class="post-title">
                            <img src="/static/images/user_icon.png" class="post-user-icon">
                            <a class="post-author-name" href="{{ url_for('user_view', username=image.author.username) }}">{{ image.author.username }}</a>
                        </div>
                        <div class="img-container">
                            <a href="{{ url_for('view_post', post_id=image.id) }}"><img src="{{ image.url }}"></a>
                        </div>
                        <div class="post-details">
                            <h2 class="post-caption">{{ image.caption }}</h2>
                            <div class="post-tags">
                                {% for tag in image.tags %}
                                    <p class="post-tag">#{{ tag['tag_name'] }}</p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>  
        </article>
        <aside class="right-nav hidden-sixteen">
            <div class="user-card">
                <img src="/static/images/user_icon.png">
                <div class="user-info">
                    <a href="/user/{{ username }}">{{ username }}</a>
                </div>
            </div>
        </aside> 
    </section>
    <footer>

    </footer>
    <script src="/static/javascript/index.js"></script>
</main>
{% endblock %}